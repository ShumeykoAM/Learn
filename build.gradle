
//Пример: явно укажем, что тип объекта таска есть DefaultTask

task simpleTask(type: DefaultTask){
    //Создаем объект класса FileTree
    FileTree dirs = fileTree (dir: "src/main")
    //или так
    //def dirs = fileTree (dir: "src/main")
    
    doLast{
        //Перебираем все элементы коллекции, в переменную fd попадают все элементы дерева папок и файлов
        dirs.visit { FileVisitDetails fd ->
            if (fd.isDirectory || !fd.directory){ //если очередной элемент папка или не папка
                println "-- ${fd.name}"           //  то выводим его на экран
            }
        }
    }
}

